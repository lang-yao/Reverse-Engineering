1.手脱UPX壳 
调试工具:PEID和ollyice(OD入口点不对)
脱壳机-脱upx壳
跳转:
　　1. f4
　　2. 打断点
OEP (入口点): 大跨度跳转
3种脱壳方式
　　1.OD插件，LordPE(需要用mackT/ucf修复)
　　2.OD dump方式一
　　3.OD dump方式二
UPX壳脱壳方法：
方法1：单步跟踪
	入口点不一样，OD版本不同，吾爱破解的OD入口点设置有问题，切换Main也不行
	程序领空 基址00400000，偏移xxx
	系统领空 7xxxxxxx 
方法2：ESP定律法
	关键句的下一句，ESP突变，ESP数据窗口跟踪
	打硬件断点，word/dword(硬件断点及时删)
命令：
　　1.dd XXXXX
　　2.hr XXXXX
方法3：2次内存镜像法
	Delphi程序的地址段特征
	M:内存(alt+m)，区别系统领空
	.rsrc	资源文件
	下断点f2	运行
	UPX0	下断点 运行
方法4：一步直达法
	适用范围：大部分UPX壳和ASPACK壳
	搜索命令,pop,push
2. 手脱ASPACK壳
ASPack 2.12 -> Alexey Solodovnikov
调试工具：PEID和ollyice(OD和教程不对)

6种方法脱
方法1：单步跟踪
	跑飞了
	f7进入call
	popad离oep近了
方法2：ESP定律
方法3：一步直达
方法4：2次内存镜像
	程序段的.rsrc 下断点
	.text 下断点
方法5：模拟跟踪
	内存找SFX,imports,relocations
	命令：
	tc eip<地址
	没有直接找到OEP，跟踪到了系统领空，通过“执行到返回(alt+f9)”/“执行到用户代码(ctrl+f9)”到用户代码
	断续单步跟踪
方法6：SFX模拟跟踪
	菜单栏-选项-调试-SFX
	块方式跟踪
3. 基础脱壳教程3：手脱NSPACK（北斗）
壳：
nSPack 1.3 -> North Star/Liu Xing Ping
NsPacK V3.7 -> LiuXingPing *
方法1：单步跟踪
	离程序形如比较近的call，F7进入
	使用lordPE脱壳
	使用importREC修复
方法2：ESP定律
方法3：SFX模拟跟踪
	找SFX,数据，输入表，资源处跟踪
方法4：2次内存镜像
	PE是从上到下解压的，先解压资源文件，然后解压代码段，
	没有资源文件，直接code段下断点
	Q:如果有资源文件，为什么不直接在代码段下断点？
北斗，直接搜：
at GetVersion
在retn下断点单步(吾爱版OD直接到系统领空然后运行到用户代码直接跑飞，，Ollyice单步后直接到OEP)
适用于北斗3.0以前的壳
北斗2.4加壳
EP区段是nsp0，是nspack,北斗的壳
单步进入jump,ESP定律法搞定
北斗3.7壳
ESP定律法搞定
4.基础脱壳教程4：手脱FSG壳
脱FSG 2.0 -> bart/xt

单步跟踪找OEP
OEP地址一般存在寄存器里面，不直接给出
手动、查找IAT：工具importREC
找任意一个call，在importantREC中定位call的地址
00425000  77DA6C17  advapi32.RegCloseKey
00425280  7C838E18  kernel32.LCMapStringA

RVA=25000
SIZE=280
SIZE=1000（懒省事，有垃圾指针）

方法1：单步跟踪
方法2：ESP定律
方法3：特殊ESP定律
只适用于FSG 2.0 -> bart/xt
00400154 >  8725 04A24700   xchg dword ptr ds:[0x47A204],esp         ; qqspirit.0047A208
0040015A    61              popad
0040015B    94              xchg eax,esp                             ; qqspirit.0047A208
跳到这在堆栈窗口第四行为OEP地址，在反汇编窗口跟随，下硬件断点，直接跳到OEP
